<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Brainside Out - "One-At-A-Time" Collapsing Navigation "Smart" Edition</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="robots" content="all" />
<meta name="author" content="Dane Petersen, Brainside Out LLC" />

<style type="text/css">
	ul#collapsing-nav li a {
		color: #00f;
		text-decoration: underline;
	}

	ul#collapsing-nav li a:hover {
		color: #f00;
	}

	body.enhanced ul#collapsing-nav span {
		color: #00f;
		text-decoration: underline;
	}

	body.enhanced ul#collapsing-nav span:hover {
		color: #f00;
		cursor: pointer;
	}

	body.enhanced ul#collapsing-nav li.selected span,
	body.enhanced ul#collapsing-nav li.selected span:hover {
		color: #000;
		cursor: default;
		text-decoration: none;
	}
</style>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
	function collapsing_nav() {
	  // grab the class assigned to the "body" element, if any
	  var bodyClass = $("body").attr('class');
	  
	  // add the "enhanced" class to the body, because clearly the browser has javascript enabled
		$("body").addClass("enhanced");
		
		// if there is a body class, and it corresponds to a class of one of the li elements in the collapsing navigation, do this
		if ((bodyClass) && ($("#collapsing-nav > li." + bodyClass).length)) {
		  
		  // if the body element had multiple classes, only consider the last class assigned to it
		  bodyClass = bodyClass.split(' ').slice(-1);
		  
		  // hide all the nested uls that are not under the li associated with the body class
		  $("#collapsing-nav > li:not(." + bodyClass +  ")").find("ul").hide();
		  
		  // make the li associated with the body class appear selected
		  $("#collapsing-nav > li." + bodyClass).addClass("selected");
    }
    
    // if there isn't a body class, or if the body class doesn't correspond to any lis in the collapsing navigation, do this
    else {
      
      // hide all the uls that aren't nested under the first li in the collapsing navigation
		  $("#collapsing-nav > li").not(":first").find("ul").hide();
		  
		  // make the first li in the collapsing navigation appear selected
		  $("#collapsing-nav > li:first").addClass("selected");
		}
    
    // when someone clicks on a section, do this
		$("#collapsing-nav > li span").click(function() {
		  
		  // if neighboring ul sections are hidden, do this
			if ($(this).parent().find("ul").is(":hidden")) {
			  
			  // hide the currently visible ul section
				$("#collapsing-nav ul:visible").slideUp("fast");
				
				// remove the selected class from the previously selected li
				$("#collapsing-nav > li").removeClass("selected");
				
				// make the clicked li appear selected
				$(this).parent().addClass("selected");
				
				// reveal the selected ul
				$(this).parent().find("ul").slideDown("fast");
			}
		});
	}
	$(collapsing_nav);
</script>

</head>

<body class="section-2">

	<h1>Brainside Out - "One-At-A-Time" Collapsing Navigation "Smart" Edition</h1>

	<p>This page demonstrates the basic code necessary to get up and running.

	<ul id="collapsing-nav">
		<li class="section-1"><span>Main Nav One</span>
			<ul>
				<li><a href="#">Sub Nav One</a></li>
				<li><a href="#">Sub Nav Two</a></li>
				<li><a href="#">Sub Nav Three</a></li>
			</ul>
		</li>
		<li class="section-2"><span>Main Nav Two</span>
			<ul>
				<li><a href="#">Sub Nav One</a></li>
				<li><a href="#">Sub Nav Two</a></li>
				<li><a href="#">Sub Nav Three</a></li>
			</ul>
		</li>
		<li class="section-3"><span>Main Nav Three</span>
			<ul>
				<li><a href="#">Sub Nav One</a></li>
				<li><a href="#">Sub Nav Two</a></li>
				<li><a href="#">Sub Nav Three</a></li>
			</ul>
		</li>
	</ul>

	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
	try {
	var pageTracker = _gat._getTracker("UA-321702-17");
	pageTracker._trackPageview();
	} catch(err) {}</script>
	
</body>
</html>
